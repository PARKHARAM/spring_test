<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mary.blog.repository.ReleaseRepository">
	<insert id="save">
		INSERT INTO release_t (uname,postcode, address, product,price_count ,tel, total_price ,product_n, date)
		VALUES(#{uname},#{postcode},#{address}, #{product}, #{price_count} ,#{tel}, #{total_price}, #{product_n}, now())
	</insert>
	<insert id="save_b">
		INSERT INTO release_b (uname,postcode, address, product,price_count ,tel, total_price ,product_n, date)
		VALUES(#{uname},#{postcode},#{address}, #{product}, #{price_count} ,#{tel}, #{total_price}, #{product_n}, now())
	</insert>
	
	
	<select id="nameupdate" resultType="com.mary.blog.model.Release">
		UPDATE release_t SET uname =(SELECT uname FROM test_s WHERE pri=release_t.id)
	</select>
	
	<select id="findById" resultType="com.mary.blog.controller.dto.ReleaseDto">
		SELECT * FROM release_t WHERE id LIKE #{id};

	</select>
	<select id="find2" resultType="com.mary.blog.controller.dto.ReleaseDto">
			SELECT product, price, id FROM item WHERE product LIKE #{product};
	</select>

	<select id="findname" resultType="com.mary.blog.controller.dto.ReleaseDto">
			SELECT * FROM user WHERE username LIKE #{username};
	</select>
		<select id="finduser" resultType="com.mary.blog.controller.dto.ReleaseDto">
			SELECT * FROM release_t WHERE uname LIKE #{uname} AND product_n LIKE #{product} ;
	</select>
	
</mapper>


